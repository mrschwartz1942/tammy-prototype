<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Manage Menu Items</title>
<style>
  body { background:#0b4f20; font-family:Arial; margin:0; color:white; }
  .topbar {
    display:flex; justify-content:flex-end; gap:15px;
    background:#093d18; padding:12px;
  }
  .navbtn {
    background:white; color:black; padding:8px 14px;
    border-radius:6px; text-decoration:none;
  }
  .card {
    background:white; color:black; max-width:600px;
    margin:30px auto; padding:30px; border-radius:16px;
  }
  input {
    width:95%; padding:10px; margin-top:10px;
    border-radius:6px; border:1px solid #ccc;
  }
  .btn {
    background:#0b4f20; color:white;
    padding:10px; margin-top:15px;
    width:100%; border-radius:10px;
    text-align:center; text-decoration:none; display:block;
  }
  .item {
    background:#eee; padding:10px; margin-top:10px;
    border-radius:6px;
  }
</style>
</head>
<body>

<div class="topbar">
  <a class="navbtn" href="manager.html">Manager Dashboard</a>
  <a class="navbtn" href="index.html">Logout</a>
</div>

<div class="card">
  <h2>Manage Menu Items</h2>

  <h3>Add New Item</h3>
  <input id="newName" placeholder="Item name">
  <input id="newPrice" type="number" step="0.01" placeholder="Price">
  <a class="btn" onclick="addItem()">Add Item</a>

  <h3>Current Menu</h3>
  <div id="menuList"></div>
</div>

<script>
function loadMenu(){
  return JSON.parse(localStorage.getItem("menu") || "[]");
}
function saveMenu(arr){
  localStorage.setItem("menu", JSON.stringify(arr));
}
function renderMenu(){
  const menu = loadMenu();
  let html = "";
  menu.forEach((item, idx)=>{
    html += `
      <div class="item">
        <b>${item.name}</b> â€“ $${item.price}
        <br><br>
        <input id="editName${idx}" value="${item.name}">
        <input id="editPrice${idx}" value="${item.price}" type="number" step="0.01">
        <a class="btn" onclick="updateItem(${idx})">Save Changes</a>
        <a class="btn" onclick="deleteItem(${idx})">Delete Item</a>
      </div>
    `;
  });
  document.getElementById("menuList").innerHTML = html;
}
function addItem(){
  const name = newName.value.trim();
  const price = newPrice.value.trim();
  if(!name || !price) return alert("Enter name and price.");
  const menu = loadMenu();
  menu.push({ name, price });
  saveMenu(menu);
  renderMenu();
  newName.value=""; newPrice.value="";
}
function updateItem(idx){
  const menu = loadMenu();
  menu[idx].name = document.getElementById("editName"+idx).value;
  menu[idx].price = document.getElementById("editPrice"+idx).value;
  saveMenu(menu);
  renderMenu();
}
function deleteItem(idx){
  let menu = loadMenu();
  menu.splice(idx,1);
  saveMenu(menu);
  renderMenu();
}
renderMenu();
</script>

</body>
</html>
